#!/usr/bin/env bash

JAVA_OPTS="$JAVA_OPTS -Xms10g -Xmx10g"
JAVA_OPTS="$JAVA_OPTS -Dcluster.name=elasticsearch-bj"
JAVA_OPTS="$JAVA_OPTS -Ddiscovery.zen.ping.unicast.hosts=node210,node211,node212,node213"
JAVA_OPTS="$JAVA_OPTS -Dbulk.import.fstype=LOCAL"
JAVA_OPTS="$JAVA_OPTS -Dbulk.import.compression=NONE"
JAVA_OPTS="$JAVA_OPTS -Dbulk.import.batchsize=500"
JAVA_OPTS="$JAVA_OPTS -Dbulk.import.concurrent=5"

# implement creator
JAVA_OPTS="$JAVA_OPTS -Dbulk.import.creator=io.transwarp.client.ImpleCreator"
JAVA_OPTS="$JAVA_OPTS -Dbulk.import.schema=STRING:C1,STRING:C2,STRING:C3,INT:C4,INT:C5,INT:C6,STRING:C7,STRING:C8,STRING:C9,INT:C10,STRING:C11,STRING:C12,STRING:C13,STRING:C14,STRING:C15,INT:C16,INT:C17,STRING:C18,STRING:C19,STRING:C20,INT:C21,INT:C22,INT:C23,STRING:C24,STRING:C25,STRING:C26,INT:C27,STRING:C28,STRING:C29,STRING:C30,STRING:C31,STRING:C32,INT:C33,INT:C34,INT:C35,INT:C36,INT:C37,STRING:C38,STRING:C39,INT:C40,INT:C41,INT:C42,INT:C43,INT:C44,INT:C45,INT:C46,INT:C47,INT:C48,INT:C49,INT:C50,STRING:C51,STRING:C52,STRING:C53,INT:C54,INT:C55,INT:C56,STRING:C57,STRING:C58,STRING:C59,STRING:C60,INT:C61,INT:C62,STRING:C63,STRING:C64,STRING:C65,INT:C66,INT:C67,INT:C68,STRING:C69,STRING:C70,STRING:C71,INT:C72,INT:C73,STRING:C74,STRING:C75,STRING:C76,STRING:C77,INT:C78,INT:C79,INT:C80,STRING:C81,STRING:C82,STRING:C83,INT:C84,INT:C85,INT:C86,STRING:C87,STRING:C88,STRING:C89,STRING:C90"
JAVA_OPTS="$JAVA_OPTS -Dbulk.import.sort.fields=C2,C35"
JAVA_OPTS="$JAVA_OPTS -Dbulk.import.analyze.fields=C51,C52,C53"
JAVA_OPTS="$JAVA_OPTS -Dbulk.import.data.local.dir=/mnt/disk2/data/20160901"
JAVA_OPTS="$JAVA_OPTS -Dbulk.import.fields.separator=\\\\\+\\\\|\\\\+\\\\|"
JAVA_OPTS="$JAVA_OPTS -Dbulk.import.index.name=huizhi_test"
JAVA_OPTS="$JAVA_OPTS -Djava.library.path=/usr/lib64"
JAVA_OPTS="$JAVA_OPTS -Dlog4j.configuration=log4j.properties"

java $JAVA_OPTS -classpath .:./lib/*:* io.transwarp.client.Importer

